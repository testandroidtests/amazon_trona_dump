<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<!-- /etc/fonts/conf.d/48-lab126-local.conf file for local customizations -->
<!-- This file used to be local.conf, but we have customized rules to map our
     fonts' families to generic, and they need to be run before 49-sansserif.conf.
     By renaming to 48-*, our local customization will be run first.
-->

<fontconfig>
<!-- Additional font directory list -->
    <dir>/system/fonts</dir>

<!-- Set Code2000's and Droid Sans Fallback's lang property to the empty string. 
     Fontconfig matching is done in the following priority order - foundry, charset, 
     family, lang, spacing, pixelsize, style, slant, weight, antialias, rasterizer
     and outline. Thus setting Code2000's and Droid Sans Fallback's lang to the 
     empty string means that it will never match on lang, which achieve the desire 
     behavior that both fonts are used only when it is the only font that match a 
     given charset.
-->
    <match target="scan">
        <test name="family" compare="eq">
            <string>Code2000</string>
        </test>
        <edit name="lang" mode="assign">
            <langset>
                <string></string>
            </langset>
        </edit>
    </match>

    <match target="scan">
        <test name="family" compare="eq">
            <string>Droid Sans Fallback</string>
        </test>
        <edit name="lang" mode="assign">
            <langset>
                <string></string>
            </langset>
        </edit>
    </match>

<!-- Set the langsets of Naskh compact and elegant variants to the same
     langset, so that the deciding factor of which font is a better
     match is based on the variant that an application specifies, if any.
     Otherwise, if the langsets are different, lang preference may
     become the deciding factor instead because lang preference has
     a higher precedence.
     Since the elegant variant's langset is a subset of the compact
     variant's, just use the elegant variant's langset as the common
     langset and set the compact variant's langset to it.
-->
    <match target="scan">
        <test name="family" compare="eq">
            <string>Droid Naskh Shift Alt</string>
        </test>
        <edit name="lang" mode="assign">
            <langset>
                <string>ar</string><string>az-ir</string><string>fa</string>
                <string>ku-ir</string><string>ps-af</string><string>ps-pk</string>
                <string>ug</string><string>ur</string><string>ku-iq</string>
                <string>ota</string><string>pa-pk</string><string>sd</string>
                <string>lah</string>
            </langset>
        </edit>
    </match>

<!-- Change DroidSans.ttf and DroidSans-Bold.ttf to have the family name
     Droid Sans, instead of Roboto, which conflicts with the various
     Roboto-*.ttf fonts.
-->
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/DroidSans.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Droid Sans</string>
        </edit>
        <edit name="fullname" mode="assign">
            <string>Droid Sans Regular</string>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/DroidSans-Bold.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Droid Sans</string>
        </edit>
        <edit name="fullname" mode="assign">
            <string>Droid Sans Bold</string>
        </edit>
    </match>

<!-- Roboto-Thin font's langset contains ro (Romanian), but Roboto does
     not. So when requesting a sans-serif font and lang is ro, Roboto-Thin
     is returned, but that's not desired. Roboto should be returned.
     So add 'ro' to Roboto's langset, so we don't need to worry about
     other fonts being chosen for 'ro' as the default sans-serif font.
-->
    <match target="scan">
        <test name="family" compare="eq">
            <string>Roboto</string>
        </test>
        <edit name="lang" mode="assign">
            <plus>
                <name>lang</name>
                <langset>
                    <string>ro</string>
                </langset>
            </plus>
        </edit>
    </match>

<!-- Combine the Caecilia font to use just one family name and assign
     the correct attribute values for each font. This follows the way all other
     fonts have in their metadata. Note that we also have a condensed version of
     the font that is handled separately
 -->
<!--
  Okay, nobody understands why the 'blank' element below fixes U+F819 (JTWO-4354)
  but it does, so maybe don't mess with it?
-->
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 65 Medium</string>
        </test>
        <edit name="family" mode="assign">
            <string>Caecilia Regular</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
        <blank>
           <int>63513</int>
        </blank>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 66 Medium Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Caecilia Regular</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 75 Bold</string>
        </test>
        <edit name="family" mode="assign">
            <string>Caecilia Regular</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>PMN Caecilia LT 76 Bold Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Caecilia Regular</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>

<!-- system-specific names of Caecilia and Helvetica -->
    <match target="pattern">
        <test name="family" compare="eq">
            <string>Caecilia</string>
        </test>
        <edit name="family" mode="assign" binding="same">
            <string>Caecilia Regular</string>
        </edit>
    </match>

    <match target="pattern">
        <test name="family" compare="eq">
            <string>Helvetica</string>
        </test>
        <test name="slant" compare="eq">
            <const>italic</const>
        </test>
        <test name="weight" compare="more_eq">
            <const>bold</const>
        </test>
        <edit name="family" mode="assign" binding="same">
            <string>Helvetica Neue Bold Italic</string>
        </edit>
    </match>

    <match target="pattern">
        <test name="family" compare="eq">
            <string>Helvetica</string>
        </test>
        <test name="weight" compare="more_eq">
            <const>bold</const>
        </test>
        <edit name="family" mode="assign" binding="same">
            <string>Helvetica Neue Bold</string>
        </edit>
    </match>

    <match target="pattern">
        <test name="family" compare="eq">
            <string>Helvetica</string>
        </test>
        <test name="slant" compare="eq">
            <const>italic</const>
        </test>
        <edit name="family" mode="assign" binding="same">
            <string>Helvetica Neue Italic</string>
        </edit>
    </match>

    <match target="pattern">
        <test name="family" compare="eq">
            <string>Helvetica</string>
        </test>
        <test name="weight" compare="eq">
            <const>light</const>
        </test>
        <edit name="family" mode="assign" binding="same">
            <string>Helvetica Neue Light</string>
        </edit>
    </match>

    <match target="pattern">
        <test name="family" compare="eq">
            <string>Helvetica</string>
        </test>
        <edit name="family" mode="assign" binding="same">
            <string>Helvetica Neue Regular</string>
        </edit>
    </match>

<!-- Android JB setup of Roboto-Light and Roboto-Thin fonts is
     unconventional, probably to workaround Android's limited font
     style API (only support normal, bold, italic, and bold italic;
     no support for light, regular, etc). Each of these fonts is
     behaving like it is its own family, instead of a style of one
     single family. Thus, each "family" then relies on the system to
     fake bold.
 -->
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>Roboto Light</string>
        </test>
        <edit name="family" mode="assign">
            <string>Roboto Light</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Light</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>light</const>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>Roboto Light Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Roboto Light</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Light Italic</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>light</const>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>Roboto Thin</string>
        </test>
        <edit name="family" mode="assign">
            <string>Roboto Thin</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Thin</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>thin</const>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>Roboto Thin Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Roboto Thin</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Thin Italic</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>thin</const>
        </edit>
    </match>

<!-- Our Android setup of Helvetica Neue fonts is unconventional, probably
     to workaround Android's limited font style API (only support normal,
     bold, italic, and bold italic; no support for light, regular, etc).
     Each Helvetica Neue style is behaving like it is its own family,
     instead of a style of one single family.
 -->
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>Helvetica Neue WGL</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue Regular</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Regular</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>regular</const>
        </edit>
        <edit name="slant" mode="assign">
            <const>roman</const>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>Helvetica Neue WGL Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue Italic</string>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>HelveticaNeueLT W1G 45 LT</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue Light</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Helvetica Neue LT 65 Kindle Medium</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue Medium</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Helvetica Neue LT 75 Kindle Bold</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue Bold</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Helvetica Neue LT 76 Kindle Bold Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue Bold Italic</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>bold</const>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>HelveticaNeueLT W1G 35 Th</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue Thin</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>thin</const>
        </edit>
    </match>
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>HelveticaNeueLT W1G 35 Th Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Helvetica Neue Thin Italic</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>thin</const>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>

<!-- Map HelveticaNeueLT W1G 35 Th Italic to Helvetica Neue Light with slant as italic, since we don't have an italic version of Helvetica Light-->
    <match target="scan">
        <test name="fullname" compare="eq">
            <string>HelveticaNeueLT W1G 35 Th Italic</string>
        </test>
        <edit name="family" mode="append">
            <string>Helvetica Neue Light</string>
        </edit>
        <edit name="weight" mode="append">
            <const>light</const>
        </edit>
        <edit name="slant" mode="append">
            <const>italic</const>
        </edit>
    </match>

<!-- Amazon Ember -->
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Ember-Thin.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Ember Thin</string>
            <string>Amazon Ember</string>
        </edit>
        <!-- remove once this metadata is fixed -->
        <edit name="weight" mode="assign">
            <const>thin</const>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Ember-ThinItalic.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Ember Thin</string>
            <string>Amazon Ember</string>
        </edit>
        <!-- remove once this metadata is fixed -->
        <edit name="weight" mode="assign">
            <const>thin</const>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Ember-Light.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Ember Light</string>
            <string>Amazon Ember</string>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Ember-LightItalic.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Ember Light</string>
            <string>Amazon Ember</string>
        </edit>
    </match>

<!-- Create Amazon-Thin quartet -->
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Thin.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Thin</string>
        </edit>
        <!-- remove once this metadata is fixed -->
        <edit name="weight" mode="assign">
            <const>thin</const>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Thin-Italic.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Thin</string>
        </edit>
        <!-- remove once this metadata is fixed -->
        <edit name="weight" mode="assign">
            <const>thin</const>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Thin-Bold.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Thin</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>bold</const>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Thin-BoldItalic.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Thin</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>bold</const>
        </edit>
    </match>

<!-- Create Amazon-Light quartet -->
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Light.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Light</string>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Light-Italic.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Light</string>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Light-Bold.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Light</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>bold</const>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Light-BoldItalic.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Light</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="weight" mode="assign">
            <const>bold</const>
        </edit>
    </match>

<!-- Create Amazon-Regular quartet -->
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Regular.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Regular</string>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Regular-Italic.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Regular</string>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Regular-Bold.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Regular</string>
        </edit>
    </match>
    <match target="scan">
        <test name="file" compare="eq">
            <string>/system/fonts/Amazon-Regular-BoldItalic.ttf</string>
        </test>
        <edit name="family" mode="assign">
            <string>Amazon Regular</string>
        </edit>
    </match>

<!-- Adjust requested weight to thin if the requested family is Amazon Thin and the requsted weight is <= medium -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>Amazon Thin</string>
        </test>
        <test qual="any" name="weight" compare="less_eq">
            <const>medium</const>
        </test>
        <edit name="weight" mode="assign">
            <const>thin</const>
        </edit>
    </match>

<!-- Adjust requested weight to thin if the requested family is Amazon Ember Thin and the requsted weight is <= medium -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>Amazon Ember Thin</string>
        </test>
        <test qual="any" name="weight" compare="less_eq">
            <const>medium</const>
        </test>
        <edit name="weight" mode="assign">
            <const>thin</const>
        </edit>
    </match>

    <!-- Adjust requested weight to thin if the requested family is Amazon Light and the requested weight is <=medium -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>Amazon Light</string>
        </test>
        <test qual="any" name="weight" compare="less_eq">
            <const>medium</const>
        </test>
        <edit name="weight" mode="assign">
            <const>light</const>
        </edit>
    </match>

<!-- Adjust requested weight to thin if the requested family is Amazon Ember Light and the requested weight is <=medium -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>Amazon Ember Light</string>
        </test>
        <test qual="any" name="weight" compare="less_eq">
            <const>medium</const>
        </test>
        <edit name="weight" mode="assign">
            <const>light</const>
        </edit>
    </match>


<!-- Combine Baskerville fonts -->
    <match target="scan">
    <test name="family" compare="eq">
        <string>Baskerville Regular</string>
    </test>
    <edit name="family" mode="assign">
        <string>Baskerville</string>
    </edit>
    <edit name="style" mode="assign">
        <string>Medium</string>
    </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Baskerville Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Baskerville</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Baskerville Bold</string>
        </test>
        <edit name="family" mode="assign">
            <string>Baskerville</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Baskerville Bold Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Baskerville</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>

<!-- Combine Palatino fonts -->
    <match target="scan">
        <test name="family" compare="eq">
            <string>Palatino Regular</string>
        </test>
        <edit name="family" mode="assign">
            <string>Palatino</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Medium</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Palatino Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Palatino</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Palatino Bold</string>
        </test>
        <edit name="family" mode="assign">
            <string>Palatino</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold</string>
        </edit>
    </match>
    <match target="scan">
        <test name="family" compare="eq">
            <string>Palatino Bold Italic</string>
        </test>
        <edit name="family" mode="assign">
            <string>Palatino</string>
        </edit>
        <edit name="style" mode="assign">
            <string>Bold Italic</string>
        </edit>
        <edit name="slant" mode="assign">
            <const>italic</const>
        </edit>
    </match>

<!-- Do not use Noto Sans S Chinese when the lang is Japanese or zh-tw or zh-hk, unless we have to,
     which is when no other fonts contain the character or the requested weight
     is thin. -->
    <match target="scan">
        <test name="family" compare="eq">
            <string>Noto Sans S Chinese</string>
        </test>
        <edit name="lang" mode="assign">
            <minus>
                <name>lang</name>
                <langset>
                    <string>ja</string>
                    <string>zh-tw</string>
                    <string>zh-hk</string>
                </langset>
            </minus>
        </edit>
    </match>

<!-- Use Noto Sans Traditional Chinese when the lang is zh-tw or zh-hk -->
    <match target="scan">
        <test name="family" compare="eq">
            <string>Noto Sans TC</string>
        </test>
        <edit name="lang" mode="assign">
            <plus>
                <name>lang</name>
                <langset>
                    <string>zh-tw</string>
                    <string>zh-hk</string>
                </langset>
            </plus>
        </edit>
    </match>

    <!-- Exclude the Unicode points from Noto Sans S Chinese which are overlapped with Noto Color Emoji so that the emoji keyboard will fallback to Noto Color Emoji instead of picking up Noto Sans S Chinese -->
    <match target="scan">
        <test name="family" compare="eq">
            <string>Noto Sans S Chinese</string>
        </test>
        <edit name="charset" mode="assign">
            <minus>
                <name>charset</name>
                <charset>
                    <int>0x1F150</int>
                    <int>0x1F151</int>
                    <int>0x1F18E</int>
                    <int>0x1F17E</int>
                    <int>0x1F201</int>
                    <int>0x1F192</int>
                    <int>0x1F197</int>
                    <int>0x1F19E</int>
                    <int>0x1F198</int>
                    <int>0x1F199</int>
                    <int>0x1F193</int>
                    <int>0x1F196</int>
                    <int>0x1F19A</int>
                    <int>0x1F232</int>
                    <int>0x1F233</int>
                    <int>0x1F234</int>
                    <int>0x1F235</int>
                    <int>0x1F236</int>
                    <int>0x1F237</int>
                    <int>0x1F238</int>
                    <int>0x1F239</int>
                    <int>0x1F202</int>
                    <int>0x1F23A</int>
                    <int>0x1F250</int>
                    <int>0x1F251</int>
                    <int>0x1F21A</int>
                    <int>0x1F22F</int>
                    <int>0x1F194</int>
                    <int>0x1F191</int>
                    <int>0x1F17F</int>
                    <int>0x1F195</int>
                    <int>0x1F170</int>
                    <int>0x1F171</int>
                </charset>
            </minus>
        </edit>
    </match>

    <!-- Exclude the Unicode points from Noto Sans Japanese which are overlapped with Noto Color Emoji so that the emoji keyboard will fallback to Noto Color Emoji instead of picking up Noto Sans Japanese -->
    <match target="scan">
        <test name="family" compare="eq">
            <string>Noto Sans Japanese</string>
        </test>
        <edit name="charset" mode="assign">
            <minus>
                <name>charset</name>
                <charset>
                    <int>0x1F150</int>
                    <int>0x1F151</int>
                    <int>0x1F18E</int>
                    <int>0x1F17E</int>
                    <int>0x1F201</int>
                    <int>0x1F192</int>
                    <int>0x1F197</int>
                    <int>0x1F19E</int>
                    <int>0x1F198</int>
                    <int>0x1F199</int>
                    <int>0x1F193</int>
                    <int>0x1F196</int>
                    <int>0x1F19A</int>
                    <int>0x1F232</int>
                    <int>0x1F233</int>
                    <int>0x1F234</int>
                    <int>0x1F235</int>
                    <int>0x1F236</int>
                    <int>0x1F237</int>
                    <int>0x1F238</int>
                    <int>0x1F239</int>
                    <int>0x1F202</int>
                    <int>0x1F23A</int>
                    <int>0x1F250</int>
                    <int>0x1F251</int>
                    <int>0x1F21A</int>
                    <int>0x1F22F</int>
                    <int>0x1F194</int>
                    <int>0x1F191</int>
                    <int>0x1F17F</int>
                    <int>0x1F195</int>
                    <int>0x1F170</int>
                    <int>0x1F171</int>
                    <int>0x3297</int>
                    <int>0x3299</int>
                </charset>
            </minus>
        </edit>
    </match>

<!-- Combine STBShusong fonts -->
<!-- no correction needed -->

<!-- Combine STKai fonts -->
<!-- no correction needed -->

<!-- Combine TsukushiMincho fonts -->
    <match target="scan">
       <test name="family" compare="eq">
           <string>AMZTsukuMincho B</string>
       </test>
       <edit name="family" mode="assign">
           <string>TsukushiMincho</string>
       </edit>
       <edit name="style" mode="assign">
           <string>Bold</string>
       </edit>
    </match>
    <match target="scan">
       <test name="family" compare="eq">
           <string>AMZTsukuMincho M</string>
       </test>
       <edit name="family" mode="assign">
           <string>TsukushiMincho</string>
       </edit>
       <edit name="style" mode="assign">
           <string>Medium</string>
       </edit>
    </match>

<!-- Combine TBGothic fonts -->
    <match target="scan">
       <test name="family" compare="eq">
           <string>TBGothic</string>
       </test>
       <test name="style" mode="assign">
           <string>Medium</string>
       </test>
       <edit name="weight" mode="assign">
           <const>medium</const>
       </edit>
    </match>

<!-- Combine HYGothic fonts -->
    <match target="scan">
       <test name="family" compare="eq">
           <string>HYGothic</string>
       </test>
       <test name="style" compare="eq">
           <string>Bold</string>
       </test>
       <edit name="weight" mode="assign">
           <const>bold</const>
       </edit>
    </match>

<!-- Combine HYMyeongJo fonts -->
<!-- no correction needed -->

<!-- provide the alias 'monospaced' for 'monospace' -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>monospaced</string>
        </test>
        <edit name="family" mode="assign">
            <string>monospace</string>
        </edit>
    </match>
    <match target="pattern">
        <test qual="any" name="family">
            <string>monospace sans</string>
        </test>
        <edit name="family" mode="assign">
            <string>monospace</string>
        </edit>
    </match>


<!-- Android system_fonts.xml aliases -->
    <alias binding="same">
        <family>Arial</family>
        <prefer>
            <family>Roboto</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>Tahoma</family>
        <prefer>
            <family>Roboto</family>
        </prefer>
    </alias>

    <alias binding="same">
        <family>sans-serif-light</family>
        <prefer>
            <family>Roboto Light</family>
        </prefer>
    </alias>

    <alias binding="same">
        <family>sans-serif-thin</family>
        <prefer>
            <family>Roboto Thin</family>
        </prefer>
    </alias>

    <alias binding="same">
        <family>sans-serif-condensed</family>
        <prefer>
            <family>Roboto Condensed</family>
        </prefer>
    </alias>

    <alias binding="same">
        <family>Times</family>
        <prefer>
            <family>Droid Serif</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>Times New Roman</family>
        <prefer>
            <family>Droid Serif</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>Goudy</family>
        <prefer>
            <family>Droid Serif</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>Fantasy</family>
        <prefer>
            <family>Droid Serif</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>Cursive</family>
        <prefer>
            <family>Droid Serif</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>ITC Stone Serif</family>
        <prefer>
            <family>Droid Serif</family>
        </prefer>
    </alias>

    <alias binding="same">
        <family>Courier</family>
        <prefer>
            <family>Droid Sans Mono</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>Courier New</family>
        <prefer>
            <family>Droid Sans Mono</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>Monaco</family>
        <prefer>
            <family>Droid Sans Mono</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>Proportional Sans</family>
        <prefer>
            <family>Amazon Ember</family>
        </prefer>
    </alias>
    <alias binding="same">
        <family>Proportional Serif</family>
        <prefer>
            <family>Bookerly</family>
        </prefer>
    </alias>

    <match>
        <test name="family">
            <string>Helvetica Neue Regular</string>
        </test>
        <test name="slant">
            <const>italic</const>
        </test>
        <test name="weight">
            <const>bold</const>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Bold Italic</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>Helvetica Neue Regular</string>
        </test>
        <test name="slant">
            <const>italic</const>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Italic</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>Helvetica Neue Regular</string>
        </test>
        <test name="weight">
            <const>bold</const>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Bold</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>Helvetica Neue Light</string>
        </test>
        <test name="weight">
            <const>bold</const>
        </test>
        <test name="slant">
            <const>italic</const>
	</test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Italic</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>Helvetica Neue Light</string>
        </test>
        <test name="weight">
            <const>bold</const>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Regular</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>helvetica_ne_lt_55_roman</string>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Regular</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>helvetica_ne_lt_45_lt</string>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Light</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>helvetica_lt_65_medium</string>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Medium</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>helvetica_lt_75_bold</string>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Bold</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>helvetica_lt_56_italic</string>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Italic</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>helvetica_lt_76_bold_italic</string>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Bold Italic</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>helvetica_ne_lt_35_thin</string>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Thin</string>
        </edit>
    </match>
    <match>
        <test name="family">
            <string>helvetica_ne_lt_36_thin_italic</string>
        </test>
        <edit name="family" binding="same">
            <string>Helvetica Neue Thin Italic</string>
        </edit>
    </match>

<!-- Generic identification, map family->generic -->
    <alias>
        <family>Droid Serif</family>
        <default>
            <family>serif</family>
        </default>
    </alias>
    <alias>
        <family>Bookerly</family>
        <default>
            <family>serif</family>
        </default>
    </alias>
    <alias>
        <family>Palatino</family>
        <default>
            <family>serif</family>
        </default>
    </alias>
    <alias>
        <family>Baskerville</family>
        <default>
            <family>serif</family>
        </default>
    </alias>
    <alias>
        <family>Georgia</family>
        <default>
            <family>serif</family>
        </default>
    </alias>

    <alias>
        <family>Caecilia Regular</family>
        <default>
            <family>serif</family>
        </default>
    </alias>
    <alias>
        <family>TsukushiMincho</family>
        <default>
            <family>serif</family>
        </default>
    </alias>
    <alias>
        <family>HYMyeongJo</family>
        <default>
            <family>serif</family>
        </default>
    </alias>
    <alias>
        <family>STBShusong</family>
        <default>
            <family>serif</family>
        </default>
    </alias>
    <alias>
        <family>STKaiti</family>
        <default>
            <family>serif</family>
        </default>
    </alias>
    <alias>
        <family>Code2000</family>
        <default>
            <family>serif</family>
        </default>
    </alias>

    <alias>
        <family>Roboto</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Roboto Light</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Roboto Thin</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Roboto Condensed</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Droid Sans</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Lucida Sans</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Helvetica Neue Regular</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Helvetica Neue Italic</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Helvetica Neue Light</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Helvetica Neue Medium</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Helvetica Neue Bold</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Helvetica Neue Bold Italic</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Helvetica Neue Thin</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Helvetica Neue Thin Italic</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <!-- This is the compact-variant Arabic-script font,
             and is the default Arabic-script font. -->
        <family>Droid Naskh Shift Alt</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <!-- This is the elegant-variant Arabic-script font.
             Android is using this one when rendering Arabic
             web pages in WebView. FWK-1101 tracks making
             this variant available. -->
        <family>Droid Arabic Naskh</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Droid Sans Hebrew</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Droid Sans Thai</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Droid Sans Armenian</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Droid Sans Georgian</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Droid Sans Ethiopic</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Droid Sans Devanagari</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Droid Sans Tamil</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>AnjaliNewLipi</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Lohit Bengali</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Lohit Kannada</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Lohit Telugu</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Trebuchet</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Verdana</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>TBGothic</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>HYGothic</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>STZhongyuan</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Android Emoji</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>
    <alias>
        <family>Kindle Symbol</family>
        <default>
            <family>sans-serif</family>
        </default>
    </alias>

    <alias>
        <family>Droid Sans Mono</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
    <alias>
        <family>Source Code Pro</family>
        <default>
            <family>monospace serif</family>
        </default>
    </alias>

<!--  If the font still has no generic name, add sans-serif -->
    <match target="pattern">
        <test qual="all" name="family" compare="not_eq">
            <string>sans-serif</string>
        </test>
        <test qual="all" name="family" compare="not_eq">
            <string>serif</string>
        </test>
        <test qual="all" name="family" compare="not_eq">
            <string>monospace</string>
        </test>
        <test qual="all" name="family" compare="not_eq">
            <string>casual</string>
        </test>
        <test qual="all" name="family" compare="not_eq">
            <string>cursive</string>
        </test>
        <test qual="all" name="family" compare="not_eq">
            <string>monospace serif</string>
        </test>
        <test qual="all" name="family" compare="not_eq">
            <string>small capital</string>
        </test>
        <edit name="family" mode="append_last">
            <string>sans-serif</string>
        </edit>
    </match>

<!-- Generic aliases, map generic->family -->
    <alias>
        <family>serif</family>
        <prefer>
            <family>Droid Serif</family>
            <family>Caecilia Regular</family>
            <family>Droid Naskh Shift Alt</family>
            <family>Droid Sans Ethiopic</family>
            <family>Droid Sans Hebrew</family>
            <family>Noto Sans Thai UI</family>
            <family>Droid Sans Thai</family>
            <family>Droid Sans Armenian</family>
            <family>Droid Sans Georgian</family>
            <family>Noto Sans Devanagari UI</family>
            <family>Droid Sans Devanagari</family>
            <family>Noto Sans Tamil UI</family>
            <family>Droid Sans Tamil</family>
            <family>Noto Sans Malayalam UI</family>
            <family>Noto Sans Bengali UI</family>
            <family>Noto Sans Telugu UI</family>
            <family>Noto Sans Kannada UI</family>
            <family>Noto Sans UI Khmer</family>
            <family>Noto Sans Lao UI</family>
            <family>Padauk Book</family>
            <family>AnjaliNewLipi</family>
            <family>Lohit Bengali</family>
            <family>Lohit Kannada</family>
            <family>TsukushiMincho</family>
            <family>HYMyeongJo</family>
            <family>STBShusong</family>
            <family>Noto Sans TC</family>
            <family>MT Chinese Surrogates</family>
            <family>Kindle Symbol</family>
            <family>Lohit Telugu</family>
            <family>Android Emoji</family>
            <family>Noto Sans Symbols</family>
            <family>Noto Color Emoji</family>
            <family>Code2000</family>
        </prefer>
    </alias>

    <alias>
        <family>sans-serif</family>
        <prefer>
            <family>Roboto</family>
            <family>Helvetica Neue Regular</family>
            <family>Helvetica Neue Medium</family>
            <family>Droid Naskh Shift Alt</family>
            <family>Droid Sans Ethiopic</family>
            <family>Droid Sans Hebrew</family>
            <family>Noto Sans Thai UI</family>
            <family>Droid Sans Thai</family>
            <family>Droid Sans Armenian</family>
            <family>Droid Sans Georgian</family>
            <family>Noto Sans Devanagari UI</family>
            <family>Droid Sans Devanagari</family>
            <family>Noto Sans Tamil UI</family>
            <family>Droid Sans Tamil</family>
            <family>Noto Sans Malayalam UI</family>
            <family>Noto Sans Bengali UI</family>
            <family>Noto Sans Telugu UI</family>
            <family>Noto Sans Kannada UI</family>
            <family>Noto Sans UI Khmer</family>
            <family>Noto Sans Lao UI</family>
            <family>Padauk Book</family>
            <family>AnjaliNewLipi</family>
            <family>Lohit Bengali</family>
            <family>Lohit Kannada</family>
            <family>TBGothic</family>
            <family>HYGothic</family>
            <family>Noto Sans S Chinese</family>
            <family>Noto Sans TC</family>
            <family>MT Chinese Surrogates</family>
            <family>Kindle Symbol</family>
            <family>Lohit Telugu</family>
            <family>Android Emoji</family>
            <family>Noto Sans Symbols</family>
            <family>Noto Color Emoji</family>
            <family>Code2000</family>
        </prefer>
    </alias>

    <alias>
        <family>monospace</family>
        <prefer>
            <family>Droid Sans Mono</family>
            <family>Droid Naskh Shift Alt</family>
            <family>Droid Sans Ethiopic</family>
            <family>Droid Sans Hebrew</family>
            <family>Noto Sans Thai UI</family>
            <family>Droid Sans Thai</family>
            <family>Droid Sans Armenian</family>
            <family>Droid Sans Georgian</family>
            <family>Noto Sans Devanagari UI</family>
            <family>Droid Sans Devanagari</family>
            <family>Noto Sans Tamil UI</family>
            <family>Droid Sans Tamil</family>
            <family>Noto Sans Malayalam UI</family>
            <family>Noto Sans Bengali UI</family>
            <family>Noto Sans Telugu UI</family>
            <family>Noto Sans Kannada UI</family>
            <family>Noto Sans UI Khmer</family>
            <family>Noto Sans Lao UI</family>
            <family>Padauk Book</family>
            <family>AnjaliNewLipi</family>
            <family>Lohit Bengali</family>
            <family>Lohit Kannada</family>
            <family>TsukushiMincho</family>
            <family>HYMyeongJo</family>
            <family>STBShusong</family>
            <family>Noto Sans TC</family>
            <family>MT Chinese Surrogates</family>
            <family>Kindle Symbol</family>
            <family>Lohit Telugu</family>
            <family>Android Emoji</family>
            <family>Noto Sans Symbols</family>
            <family>Noto Color Emoji</family>
            <family>Code2000</family>
        </prefer>
    </alias>

    <alias>
        <family>casual</family>
        <prefer>
            <family>MotoyaLMaru</family>
            <family>Roboto</family>
            <family>Helvetica Neue Regular</family>
            <family>Helvetica Neue Medium</family>
            <family>Droid Naskh Shift Alt</family>
            <family>Droid Sans Ethiopic</family>
            <family>Droid Sans Hebrew</family>
            <family>Noto Sans Thai UI</family>
            <family>Droid Sans Thai</family>
            <family>Droid Sans Armenian</family>
            <family>Droid Sans Georgian</family>
            <family>Noto Sans Devanagari UI</family>
            <family>Droid Sans Devanagari</family>
            <family>Noto Sans Tamil UI</family>
            <family>Droid Sans Tamil</family>
            <family>Noto Sans Malayalam UI</family>
            <family>Noto Sans Bengali UI</family>
            <family>Noto Sans Telugu UI</family>
            <family>Noto Sans Kannada UI</family>
            <family>Noto Sans UI Khmer</family>
            <family>Noto Sans Lao UI</family>
            <family>Padauk Book</family>
            <family>AnjaliNewLipi</family>
            <family>Lohit Bengali</family>
            <family>Lohit Kannada</family>
            <family>TBGothic</family>
            <family>HYGothic</family>
            <family>Noto Sans S Chinese</family>
            <family>Noto Sans TC</family>
            <family>MT Chinese Surrogates</family>
            <family>Kindle Symbol</family>
            <family>Lohit Telugu</family>
            <family>Android Emoji</family>
            <family>Noto Sans Symbols</family>
            <family>Noto Color Emoji</family>
            <family>Code2000</family>
        </prefer>
    </alias>
    <alias>
        <family>cursive</family>
        <prefer>
            <family>Dancing-script</family>
            <family>Droid Serif</family>
            <family>Caecilia Regular</family>
            <family>Droid Naskh Shift Alt</family>
            <family>Droid Sans Ethiopic</family>
            <family>Droid Sans Hebrew</family>
            <family>Noto Sans Thai UI</family>
            <family>Droid Sans Thai</family>
            <family>Droid Sans Armenian</family>
            <family>Droid Sans Georgian</family>
            <family>Noto Sans Devanagari UI</family>
            <family>Droid Sans Devanagari</family>
            <family>Noto Sans Tamil UI</family>
            <family>Droid Sans Tamil</family>
            <family>Noto Sans Malayalam UI</family>
            <family>Noto Sans Bengali UI</family>
            <family>Noto Sans Telugu UI</family>
            <family>Noto Sans Kannada UI</family>
            <family>Noto Sans UI Khmer</family>
            <family>Noto Sans Lao UI</family>
            <family>Padauk Book</family>
            <family>AnjaliNewLipi</family>
            <family>Lohit Bengali</family>
            <family>Lohit Kannada</family>
            <family>TsukushiMincho</family>
            <family>HYMyeongJo</family>
            <family>STBShusong</family>
            <family>Noto Sans TC</family>
            <family>MT Chinese Surrogates</family>
            <family>Kindle Symbol</family>
            <family>Lohit Telugu</family>
            <family>Android Emoji</family>
            <family>Noto Sans Symbols</family>
            <family>Noto Color Emoji</family>
            <family>Code2000</family>
        </prefer>
    </alias>
    <alias>
        <family>monospace serif</family>
        <prefer>
            <family>Source Code Pro</family>
            <family>Droid Sans Mono</family>
            <family>Droid Naskh Shift Alt</family>
            <family>Droid Sans Ethiopic</family>
            <family>Droid Sans Hebrew</family>
            <family>Noto Sans Thai UI</family>
            <family>Droid Sans Thai</family>
            <family>Droid Sans Armenian</family>
            <family>Droid Sans Georgian</family>
            <family>Noto Sans Devanagari UI</family>
            <family>Droid Sans Devanagari</family>
            <family>Noto Sans Tamil UI</family>
            <family>Droid Sans Tamil</family>
            <family>Noto Sans Malayalam UI</family>
            <family>Noto Sans Bengali UI</family>
            <family>Noto Sans Telugu UI</family>
            <family>Noto Sans Kannada UI</family>
            <family>Noto Sans UI Khmer</family>
            <family>Noto Sans Lao UI</family>
            <family>Padauk Book</family>
            <family>AnjaliNewLipi</family>
            <family>Lohit Bengali</family>
            <family>Lohit Kannada</family>
            <family>TsukushiMincho</family>
            <family>HYMyeongJo</family>
            <family>STBShusong</family>
            <family>Noto Sans TC</family>
            <family>MT Chinese Surrogates</family>
            <family>Kindle Symbol</family>
            <family>Lohit Telugu</family>
            <family>Android Emoji</family>
            <family>Noto Sans Symbols</family>
            <family>Noto Color Emoji</family>
            <family>Code2000</family>
        </prefer>
    </alias>
    <alias>
        <family>small capital</family>
        <prefer>
            <family>Bookerly</family>
            <family>Droid Serif</family>
            <family>Caecilia Regular</family>
            <family>Droid Naskh Shift Alt</family>
            <family>Droid Sans Ethiopic</family>
            <family>Droid Sans Hebrew</family>
            <family>Noto Sans Thai UI</family>
            <family>Droid Sans Thai</family>
            <family>Droid Sans Armenian</family>
            <family>Droid Sans Georgian</family>
            <family>Noto Sans Devanagari UI</family>
            <family>Droid Sans Devanagari</family>
            <family>Noto Sans Tamil UI</family>
            <family>Droid Sans Tamil</family>
            <family>Noto Sans Malayalam UI</family>
            <family>Noto Sans Bengali UI</family>
            <family>Noto Sans Telugu UI</family>
            <family>Noto Sans Kannada UI</family>
            <family>Noto Sans UI Khmer</family>
            <family>Noto Sans Lao UI</family>
            <family>Padauk Book</family>
            <family>AnjaliNewLipi</family>
            <family>Lohit Bengali</family>
            <family>Lohit Kannada</family>
            <family>TsukushiMincho</family>
            <family>HYMyeongJo</family>
            <family>STBShusong</family>
            <family>Noto Sans TC</family>
            <family>MT Chinese Surrogates</family>
            <family>Kindle Symbol</family>
            <family>Lohit Telugu</family>
            <family>Android Emoji</family>
            <family>Noto Sans Symbols</family>
            <family>Noto Color Emoji</family>
            <family>Code2000</family>
        </prefer>
    </alias>

    <!-- prefer Noto Sans Japanese over TBGothic for weight <= light -->
        <match target="pattern">
            <test qual="any" name="weight" compare="less_eq">
                <const>light</const>
            </test>
            <test qual="any" name="family">
                <string>TBGothic</string>
            </test>
            <edit name="family" mode="prepend" binding="weak">
                <string>Noto Sans Japanese</string>
            </edit>
        </match>

    <!-- prefer Noto Sans S Chinese over MYing Hei S for weight <= light -->
        <match target="pattern">
            <test qual="any" name="weight" compare="less_eq">
                <const>light</const>
            </test>
            <test qual="any" name="family">
                <string>MYing Hei S</string>
            </test>
            <edit name="family" mode="prepend" binding="weak">
                <string>Noto Sans S Chinese</string>
            </edit>
        </match>

    <!-- Add Simplified Chinese lang tag mappings -->
    <match>
        <test name="lang">
            <string>zh</string>
        </test>
        <edit name="lang">
            <string>zh-CN</string>
        </edit>
    </match>
    <match>
        <test name="lang">
            <string>zh-Hans</string>
        </test>
        <edit name="lang">
            <string>zh-CN</string>
        </edit>
    </match>
    <match>
        <test name="lang">
            <string>zh-Hans-CN</string>
        </test>
        <edit name="lang">
            <string>zh-CN</string>
        </edit>
    </match>

    <!-- Add Traditional Chinese lang tag mappings -->
    <match>
        <test name="lang">
            <string>zh-Hant</string>
        </test>
        <edit name="lang">
            <string>zh-TW</string>
        </edit>
    </match>
    <match>
        <test name="lang">
            <string>zh-Hant-TW</string>
        </test>
        <edit name="lang">
            <string>zh-TW</string>
        </edit>
    </match>
    <match>
        <test name="lang">
            <string>zh-Hant-HK</string>
        </test>
        <edit name="lang">
            <string>zh-HK</string>
        </edit>
    </match>

<!-- Incorporate JB's notion of font variant. The default variant
     is 'compact' and we don't need to do anything special for that.
     If the variant is 'elegant', apply font specific rules here.
-->
    <!-- Prepend the elegant variant before the compact variant of the
         Arabic-script font if elegant variant is specified. The binding
         should be 'weak' so that if the application requests the compact
         variant by name ('strong' binding), the compact variant would
         still be better match. -->
    <match>
        <test name="variant">
            <string>elegant</string>
        </test>
        <test name="family">
            <string>Droid Naskh Shift Alt</string>
        </test>
        <edit name="family" mode="prepend" binding="weak">
            <string>Droid Arabic Naskh</string>
        </edit>
    </match>

    <!-- Prepend the elegant variant before the compact variant for
         "non UI" Noto fonts based on settings in fallback_font.xml. Noto UI
         fonts shoud have variant="compact". -->
    <match>
        <test name="variant">
            <string>elegant</string>
        </test>
        <test name="family">
            <string>Noto Sans Thai UI</string>
        </test>
        <edit name="family" mode="prepend" binding="weak">
            <string>Noto Sans Thai</string>
        </edit>
    </match>

    <match>
        <test name="variant">
            <string>elegant</string>
        </test>
        <test name="family">
            <string>Noto Sans Devanagari UI</string>
        </test>
        <edit name="family" mode="prepend" binding="weak">
            <string>Noto Sans Devanagari</string>
        </edit>
    </match>

    <match>
        <test name="variant">
            <string>elegant</string>
        </test>
        <test name="family">
            <string>Noto Sans Tamil UI</string>
        </test>
        <edit name="family" mode="prepend" binding="weak">
            <string>Noto Sans Tamil</string>
        </edit>
    </match>

    <match>
        <test name="variant">
            <string>elegant</string>
        </test>
        <test name="family">
            <string>Noto Sans Malayalam UI</string>
        </test>
        <edit name="family" mode="prepend" binding="weak">
            <string>Noto Sans Malayalam</string>
        </edit>
    </match>

    <match>
        <test name="variant">
            <string>elegant</string>
        </test>
        <test name="family">
            <string>Noto Sans Bengali UI</string>
        </test>
        <edit name="family" mode="prepend" binding="weak">
            <string>Noto Sans Bengali</string>
        </edit>
    </match>

    <match>
        <test name="variant">
            <string>elegant</string>
        </test>
        <test name="family">
            <string>Noto Sans Telugu UI</string>
        </test>
        <edit name="family" mode="prepend" binding="weak">
            <string>Noto Sans Telugu</string>
        </edit>
    </match>

    <match>
        <test name="variant">
            <string>elegant</string>
        </test>
        <test name="family">
            <string>Noto Sans Kannada UI</string>
        </test>
        <edit name="family" mode="prepend" binding="weak">
            <string>Noto Sans Kannada</string>
        </edit>
    </match>

    <match>
        <test name="variant">
            <string>elegant</string>
        </test>
        <test name="family">
            <string>Noto Sans UI Khmer</string>
        </test>
        <edit name="family" mode="prepend" binding="weak">
            <string>Noto Sans Khmer</string>
        </edit>
    </match>

    <match>
        <test name="variant">
            <string>elegant</string>
        </test>
        <test name="family">
            <string>Noto Sans Lao UI</string>
        </test>
        <edit name="family" mode="prepend" binding="weak">
            <string>Noto Sans Lao</string>
        </edit>
    </match>

<!--
  Enable sub-pixel rendering
    <match target="font">
        <test qual="all" name="rgba">
            <const>unknown</const>
        </test>
        <edit name="rgba" mode="assign"><const>rgb</const></edit>
    </match>
-->

<!--
  Reject bitmap fonts

 <selectfont>
  <rejectfont>
   <pattern>
     <patelt name="scalable"><bool>false</bool></patelt>
   </pattern>
  </rejectfont>
 </selectfont>
 -->

<!--
  Accept bitmap fonts.  This overrides any rejectfont which matches

 <selectfont>
  <acceptfont>
   <pattern>
     <patelt name="scalable"><bool>false</bool></patelt>
   </pattern>
  </acceptfont>
 </selectfont>
 -->
</fontconfig>
